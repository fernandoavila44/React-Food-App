(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__ZapQa",summary:"CartItem_summary__1Lbrl",price:"CartItem_price__2UdpI",amount:"CartItem_amount__q1TFi",actions:"CartItem_actions__3Ekq_"}},,,function(e,t,a){e.exports={button:"HeaderCardButton_button__2GuNJ",icon:"HeaderCardButton_icon__16UD_",badge:"HeaderCardButton_badge__2nRPK",bump:"HeaderCardButton_bump__1Nvik"}},function(e,t,a){e.exports={"cart-items":"Cart_cart-items__Ueg7r",total:"Cart_total__1UDV7",actions:"Cart_actions__1O_6g","button--alt":"Cart_button--alt__2OWl8",button:"Cart_button__2qcr-"}},function(e,t,a){e.exports={meal:"MealsItem_meal__36oRc",description:"MealsItem_description__1ykFG",price:"MealsItem_price__FsomL"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__sl84E",modal:"Modal_modal__31oD2","slide-down":"Modal_slide-down__2Xl9-"}},function(e,t,a){e.exports={header:"Header_header__24lD6","main-image":"Header_main-image__3AKdB"}},function(e,t,a){e.exports={form:"MealItemForm_form__1bwmr"}},,,function(e,t,a){e.exports=a.p+"static/media/meals.55c74990.jpg"},function(e,t,a){e.exports={meals:"AvailablesMeals_meals__2Nm8X","meals-appear":"AvailablesMeals_meals-appear__2j9zg"}},function(e,t,a){e.exports={input:"Input_input__3gagV"}},function(e,t,a){e.exports={card:"Card_card__q-gUU"}},function(e,t,a){e.exports={summary:"MealsSummary_summary__S_mR_"}},function(e,t,a){e.exports=a(34)},,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),m=a(1),o=r.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),i=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.a.createElement("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}))},u=a(5),s=a.n(u),d=function(e){var t=Object(n.useContext)(o),a=Object(n.useState)(!1),c=Object(m.a)(a,2),l=c[0],u=c[1],d=t.items,p=d.reduce(function(e,t){return e+t.amount},0),_="".concat(s.a.button," ").concat(l?s.a.bump:"");return Object(n.useEffect)(function(){if(0!==d.length){u(!0);var e=setTimeout(function(){u(!1)},300);return function(){clearTimeout(e)}}},[d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:_,onClick:e.isPressed},r.a.createElement("span",{className:s.a.icon},r.a.createElement(i,null)),r.a.createElement("span",null,"Your Cart"),r.a.createElement("span",{className:s.a.badge},p)))},p=a(9),_=a.n(p),E=a(13),f=a.n(E),b=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:_.a.header},r.a.createElement("h1",null,"ReactMeals"),r.a.createElement(d,{isPressed:e.isPressed})),r.a.createElement("div",{className:_.a["main-image"]},r.a.createElement("img",{src:f.a,alt:"meals header img"})))},v=a(14),g=a.n(v),h=a(7),C=a.n(h),N=a(10),x=a.n(N),I=a(15),y=a.n(I),A=r.a.forwardRef(function(e,t){return r.a.createElement("div",{className:y.a.input},r.a.createElement("label",{htmlFor:e.input.id},e.label),r.a.createElement("input",Object.assign({ref:t},e.input)))}),j=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!0),c=Object(m.a)(a,2),l=c[0],o=c[1];return r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=t.current.value,r=+n;0===n.trim().length||r<1||r>5?o(!1):e.onAddToCart(r)},className:x.a.form,action:""},r.a.createElement(A,{ref:t,label:"Amount",input:{id:"Amount".concat(e.inputId),type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),r.a.createElement("button",{className:x.a.button},"+ Add"),!l&&r.a.createElement("p",null,"Please enter a valid amount (1-5)"))},O=function(e){var t="$".concat(e.price.toFixed(2)),a=Object(n.useContext)(o);return r.a.createElement("li",{className:C.a.meal},r.a.createElement("div",null,r.a.createElement("h3",null,e.name),r.a.createElement("div",{className:C.a.description},e.desc),r.a.createElement("div",{className:C.a.price},t)),r.a.createElement("div",null,r.a.createElement(j,{inputId:e.inputId,onAddToCart:function(t){a.addItem({id:e.id,name:e.name,amount:t,price:e.price})}})))},w=a(16),k=a.n(w),B=function(e){return r.a.createElement("div",{className:k.a.card},e.children)},F=[{id:"m1",name:"Sushi",description:"Finest fish and veggies",price:22.99},{id:"m2",name:"Schnitzel",description:"A german specialty!",price:16.5},{id:"m3",name:"Barbecue Burger",description:"American, raw, meaty",price:12.99},{id:"m4",name:"Green Bowl",description:"Healthy...and green...",price:18.99}],M=function(){return r.a.createElement("section",{className:g.a.meals},r.a.createElement(B,null,r.a.createElement("ul",null,F.map(function(e,t){return r.a.createElement(O,{key:t,id:e.id,name:e.name,desc:e.description,price:e.price,inputId:t})}))))},D=a(17),S=a.n(D),H=function(e){return r.a.createElement("section",{className:S.a.summary},r.a.createElement("h2",null,"Delicious Food, Delivery To You"),r.a.createElement("p",null,"Choose your favorite meal from our brand selection of avilable meats and enjoy deliciuos lunch or dinner at home."),r.a.createElement("p",null,"All our meals are cocked with high-quality ingredientes, just-in-time and of course by experienced chefs! "))},P=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement(M,null))},R=a(4),T=a(6),U=a.n(T),q=a(8),z=a.n(q),L=function(e){return r.a.createElement("div",{onClick:e.onClick,className:z.a.backdrop})},G=function(e){return r.a.createElement("div",{className:z.a.modal},r.a.createElement("div",{className:z.a.content},e.children))},J=function(e){return r.a.createElement(r.a.Fragment,null,l.a.createPortal(r.a.createElement(L,{onClick:e.setStateBackdrop}),document.getElementById("modal-root")),l.a.createPortal(r.a.createElement(G,null,e.children),document.getElementById("modal-root")))},V=a(2),$=a.n(V),K=function(e){var t="$".concat(e.price.toFixed(2));return r.a.createElement("li",{className:$.a["cart-item"]},r.a.createElement("div",null,r.a.createElement("h2",null,e.name),r.a.createElement("div",{className:$.a.summary},r.a.createElement("span",{className:$.a.price},t),r.a.createElement("span",{className:$.a.amount},"x ",e.amount))),r.a.createElement("div",{className:$.a.actions},r.a.createElement("button",{onClick:e.onRemove},"\u2212"),r.a.createElement("button",{onClick:e.onAdd},"+")))},X=function(e){var t=Object(n.useContext)(o),a=t.items.length>0,c="$".concat(t.totalAmount.toFixed(2)),l=function(e){t.removeItem(e)},m=function(e){t.addItem(Object(R.a)({},e,{amount:1}))};return r.a.createElement(J,{setStateBackdrop:e.isShowed},r.a.createElement("ul",{className:U.a["cart-items"]},t.items.map(function(e,t){return r.a.createElement(K,{key:t,name:e.name,amount:e.amount,price:e.price,onRemove:l.bind(null,e.id),onAdd:m.bind(null,e)})})),r.a.createElement("div",{className:U.a.total},r.a.createElement("span",null,"Total"),r.a.createElement("span",null,c)),r.a.createElement("div",{className:U.a.actions},r.a.createElement("button",{onClick:e.isShowed,className:["button--alt"]},"Close"),a&&r.a.createElement("button",{className:U.a.button},"Order")))},Y=a(11),Q={items:[],totalAmount:0},W=function(e,t){if("ADD"===t.type){var a,n=e.totalAmount+t.item.price*t.item.amount,r=e.items.findIndex(function(e){return e.id===t.item.id}),c=e.items[r];if(c){var l=Object(R.a)({},c,{amount:c.amount+t.item.amount});console.log(l),(a=Object(Y.a)(e.items))[r]=l}else a=e.items.concat(t.item);return console.log(a,n),{items:a,totalAmount:n}}if("DEL"===t.type){var m,o=e.items.findIndex(function(e){return e.id===t.id}),i=e.items[o],u=e.totalAmount-i.price;if(1===i.amount)m=e.items.filter(function(e){return e.id!==t.id});else{var s=Object(R.a)({},i,{amount:i.amount-1});(m=Object(Y.a)(e.items))[o]=s}return{items:m,totalAmount:u}}return Q},Z=function(e){var t=Object(n.useReducer)(W,Q),a=Object(m.a)(t,2),c=a[0],l=a[1],i={items:c.items,totalAmount:c.totalAmount,addItem:function(e){l({type:"ADD",item:e})},removeItem:function(e){l({type:"DEL",id:e})}};return r.a.createElement(o.Provider,{value:i},e.children)},ee=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=function(){c(!1===a)};return r.a.createElement(Z,null,a&&r.a.createElement(X,{isShowed:l}),r.a.createElement(b,{isPressed:l}),r.a.createElement("main",null,r.a.createElement(P,null)))};l.a.render(r.a.createElement(ee,null),document.getElementById("root"))}],[[18,2,1]]]);
//# sourceMappingURL=main.63cd9284.chunk.js.map